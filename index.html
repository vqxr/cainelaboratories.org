<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bloomsbury Burger Therapeutics — The Target is Found</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=DM+Mono&display=swap"
    rel="stylesheet">
</head>

<body>
  <!-- 3D Canvas Container -->
  <div id="canvas-container"></div>

  <!-- Dashboard Link -->
  <a href="/dashboard/" class="dashboard-link">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
      <line x1="3" y1="9" x2="21" y2="9"></line>
      <line x1="9" y1="21" x2="9" y2="9"></line>
    </svg>
    Dashboard
  </a>

  <!-- Scroll Content (Overlay UI) -->
  <main id="app">
    <!-- Scene 1: The Macro View -->
    <section class="scene-section" id="scene-1">
      <div class="content">
        <h1>Bloomsbury Burger<br><span>Therapeutics</span></h1>
        <p class="fade-text sc-1-1">Endometriosis affects 10%.</p>
        <p class="fade-text sc-1-2">The lesions are invisible to the surgeon's eye.</p>
        <p class="fade-text sc-1-3">The standard of care is blind resection.</p>
        <p class="fade-text sc-1-4">We need a molecular scalpel.</p>
      </div>
    </section>

    <!-- Scene 2: The Data Universe -->
    <section class="scene-section" id="scene-2">
      <div class="content right">
        <p class="fade-text sc-2-1">54 patients.</p>
        <p class="fade-text sc-2-2">280,000 cells.</p>
        <p class="fade-text sc-2-3">33,000 genes.</p>
        <h2 class="fade-text sc-2-4">The Human Endometriosis Cell Atlas</h2>
        <p class="fade-text sc-2-5">This is our search space.</p>
      </div>
      <!-- Tooltips will be absolutely positioned in JS -->
    </section>

    <!-- Scene 3: The Quest -->
    <section class="scene-section" id="scene-3">
      <div class="content left">
        <p class="fade-text sc-3-1">A single marker isn't enough. It's too risky.</p>
        <p class="fade-text sc-3-2">We need an AND‑gate: <span class="highlight-blue">Marker A</span>
          <strong>AND</strong> <span class="highlight-green">Marker B</span>.
        </p>
        <p class="fade-text sc-3-3">The therapy only activates where both are true.</p>
      </div>
    </section>

    <!-- Scene 4: The Machine -->
    <section class="scene-section" id="scene-4">
      <div class="glass-panel" id="machine-panel">
        <div class="panel-header">Differentiable Compiler</div>
        <div class="panel-body">
          <div class="prob-dists">
            <div class="dist">
              <span>α¹</span>
              <div class="bars" id="bars-a"></div>
            </div>
            <div class="dist">
              <span>α²</span>
              <div class="bars" id="bars-b"></div>
            </div>
          </div>
          <div class="loss-chart" id="loss-chart-container">
            <svg viewBox="0 0 100 50" preserveAspectRatio="none">
              <path id="loss-line" d="M0,10 Q25,10 50,30 T100,45" fill="none" stroke="black" stroke-width="2" />
            </svg>
          </div>
          <div class="temp-gauge">
            <span>τ</span>
            <div class="gauge-track">
              <div class="gauge-fill" id="temp-fill"></div>
            </div>
          </div>
        </div>
        <div class="panel-footer">Gradient descent active</div>
      </div>
      <div class="content right" style="margin-top:20vh;">
        <p class="fade-text sc-4-1">The search space: 500 million pairs.</p>
        <p class="fade-text sc-4-2">So we built a differentiable compiler.</p>
        <p class="fade-text sc-4-3">Gradient descent finds the intersection.</p>
      </div>
    </section>

    <!-- Scene 5: The Convergence -->
    <section class="scene-section" id="scene-5">
      <div class="content center">
        <h2 class="fade-text sc-5-1">Convergence.</h2>
        <div class="math-block fade-text sc-5-2">
          θ¹ → PTPRC<br>
          θ² → EPCAM
        </div>
      </div>
    </section>

    <!-- Scene 6: The Result -->
    <section class="scene-section" id="scene-6">
      <div class="content left">
        <p class="fade-text sc-6-1">The result is not just a list. It's a safety certificate.</p>
        <p class="fade-text sc-6-2">Validated against the whole human body.</p>
        <h2 class="fade-text sc-6-3">The blueprint for a cure.</h2>
      </div>
      <!-- Card UI built dynamically in JS -->
      <div id="cards-container"></div>
    </section>

    <!-- CTA -->
    <section class="scene-section" id="scene-end">
      <div class="content center">
        <h2>Defying biology requires a new kind of interface.</h2>
        <p>We made the invisible visible. Now watch us target it.</p>
      </div>
    </section>

  </main>
  <div class="sound-toggle" id="sound-toggle">Sound: Muted</div>
  <script type="module" src="/src/main.js"></script>
</body>

</html>